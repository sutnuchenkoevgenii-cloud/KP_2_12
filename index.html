<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–≤'—è—Ä–Ω—è ¬´–ê—Ä–æ–º–∞—Ç–Ω–∞¬ª - PWA</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="coffee.jpg" type="image/jpg">

    <!-- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–µ —Ä–µ—î—Å—Ç—Ä—É–≤–∞–Ω–Ω—è SW -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('SW –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–æ –∑ scope:', registration.scope);
                    })
                    .catch(function(error) {
                        console.log('–ü–æ–º–∏–ª–∫–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó SW:', error);
                    });
            });
        }
    </script>
</head>
<body>
<!-- –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä –æ—Ñ–ª–∞–π–Ω -->
<div id="offline-indicator" class="offline-indicator hidden">
    <div class="indicator-content">
        <span class="indicator-icon">üì°</span>
        <span class="indicator-text">–û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º</span>
        <button onclick="dismissIndicator()" class="indicator-close">√ó</button>
    </div>
</div>

<!-- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è -->
<div id="update-notification" class="update-notification hidden">
    <div class="notification-content">
        <h3>üîÑ –î–æ—Å—Ç—É–ø–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è!</h3>
        <p>–ù–æ–≤–∞ –≤–µ—Ä—Å—ñ—è –¥–æ–¥–∞—Ç–∫–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è.</p>
        <div class="notification-actions">
            <button onclick="applyUpdate()" class="btn btn-primary">–û–Ω–æ–≤–∏—Ç–∏ –∑–∞—Ä–∞–∑</button>
            <button onclick="dismissUpdate()" class="btn btn-secondary">–ü—ñ–∑–Ω—ñ—à–µ</button>
        </div>
    </div>
</div>

<!-- –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é -->
<div id="sync-notification" class="sync-notification hidden">
    <div class="notification-content">
        <span class="sync-icon">üîÑ</span>
        <span class="sync-text">–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è...</span>
    </div>
</div>

<header>
    <div class="header-container">
        <h1>‚òï –ö–∞–≤'—è—Ä–Ω—è ¬´–ê—Ä–æ–º–∞—Ç–Ω–∞¬ª</h1>
        <div class="header-controls">
            <button id="cart-btn" onclick="showCart()" class="icon-btn" title="–ö–æ—à–∏–∫">
                üõí <span id="cart-count" class="badge">0</span>
            </button>
            <button onclick="checkForUpdates()" class="icon-btn" title="–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è">
                üîÑ
            </button>
            <button id="theme-toggle" onclick="toggleTheme()" class="icon-btn" title="–ó–º—ñ–Ω–∏—Ç–∏ —Ç–µ–º—É">
                üåô
            </button>
        </div>
    </div>
    <nav class="main-nav">
        <button onclick="showSection('menu')" class="nav-btn active">–ú–µ–Ω—é</button>
        <button onclick="showSection('orders')" class="nav-btn">–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
        <button onclick="showSection('about')" class="nav-btn">–ü—Ä–æ –Ω–∞—Å</button>
    </nav>
</header>

<main>
    <!-- –°–µ–∫—Ü—ñ—è –º–µ–Ω—é -->
    <section id="menu-section" class="content-section active">
        <div class="section-header">
            <h2>–ù–∞—à–µ –º–µ–Ω—é</h2>
            <div class="section-controls">
                <button onclick="loadMenu(true)" class="btn btn-sm">
                    <span class="btn-icon">üîÑ</span> –û–Ω–æ–≤–∏—Ç–∏
                </button>
                <select id="category-filter" onchange="filterMenu()" class="select">
                    <option value="all">–í—Å—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó</option>
                    <option value="–ö–ª–∞—Å–∏—á–Ω–∞ –∫–∞–≤–∞">–ö–ª–∞—Å–∏—á–Ω–∞</option>
                    <option value="–ö–∞–≤–∞ –∑ –º–æ–ª–æ–∫–æ–º">–ó –º–æ–ª–æ–∫–æ–º</option>
                    <option value="–°–æ–ª–æ–¥–∫–∞ –∫–∞–≤–∞">–°–æ–ª–æ–¥–∫–∞</option>
                </select>
            </div>
        </div>

        <div id="menu-container" class="menu-grid">
            <!-- –ú–µ–Ω—é –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ JS -->
            <div class="loading-state">
                <div class="spinner"></div>
                <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–µ–Ω—é...</p>
            </div>
        </div>

        <div class="menu-info">
            <p id="menu-status">–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —Å–µ—Ä–≤–µ—Ä–∞...</p>
            <p class="cache-hint">üí° –î–∞–Ω—ñ –∫–µ—à—É—é—Ç—å—Å—è –¥–ª—è –æ—Ñ–ª–∞–π–Ω-—Ä–æ–±–æ—Ç–∏</p>
        </div>
    </section>

    <!-- –°–µ–∫—Ü—ñ—è –∑–∞–º–æ–≤–ª–µ–Ω—å -->
    <section id="orders-section" class="content-section">
        <div class="section-header">
            <h2>–ú–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>
            <button onclick="syncOrders()" class="btn btn-primary">
                <span class="btn-icon">üîÑ</span> –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏
            </button>
        </div>

        <div id="orders-container" class="orders-list">
            <div class="empty-state">
                <p>–ù–µ–º–∞—î –∑–∞–º–æ–≤–ª–µ–Ω—å</p>
                <button onclick="showSection('menu')" class="btn btn-secondary">
                    –ü–µ—Ä–µ–π—Ç–∏ –¥–æ –º–µ–Ω—é
                </button>
            </div>
        </div>

        <div class="orders-info">
            <h3>–û—Ñ–ª–∞–π–Ω –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h3>
            <p>–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è, –∑—Ä–æ–±–ª–µ–Ω—ñ –æ—Ñ–ª–∞–π–Ω, –±—É–¥—É—Ç—å –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—ñ –∑–≤'—è–∑–∫—É.</p>
            <div class="offline-queue">
                <h4>–í —á–µ—Ä–∑—ñ: <span id="pending-orders">0</span></h4>
                <div id="pending-list"></div>
            </div>
        </div>
    </section>

    <!-- –°–µ–∫—Ü—ñ—è –ø—Ä–æ –Ω–∞—Å -->
    <section id="about-section" class="content-section">
        <div class="about-content">
            <h2>–ü—Ä–æ –∫–∞–≤'—è—Ä–Ω—é ¬´–ê—Ä–æ–º–∞—Ç–Ω–∞¬ª</h2>
            <div class="about-card">
                <img src="coffee.jpg" alt="–ù–∞—à–∞ –∫–∞–≤–∞" class="about-image">
                <div class="about-text">
                    <h3>–ù–∞—à–∞ –º—ñ—Å—ñ—è</h3>
                    <p>–ú–∏ —Ä–æ–±–∏–º–æ –Ω–∞–π—Å–º–∞—á–Ω—ñ—à—É –∫–∞–≤—É –≤ –º—ñ—Å—Ç—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ç—ñ–ª—å–∫–∏ –Ω–∞–π–∫—Ä–∞—â—ñ —Å–æ—Ä—Ç–∏ –∞—Ä–∞–±—ñ–∫–∏ –∑ –µ—Ç–∏—á–Ω–∏—Ö –¥–∂–µ—Ä–µ–ª.</p>

                    <h3>PWA –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó</h3>
                    <div class="features">
                        <div class="feature">
                            <span class="feature-icon">üì±</span>
                            <div>
                                <strong>–û—Ñ–ª–∞–π–Ω –¥–æ—Å—Ç—É–ø</strong>
                                <p>–ü–µ—Ä–µ–≥–ª—è–¥–∞–π—Ç–µ –º–µ–Ω—é –±–µ–∑ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É</p>
                            </div>
                        </div>
                        <div class="feature">
                            <span class="feature-icon">‚ö°</span>
                            <div>
                                <strong>–®–≤–∏–¥–∫–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è</strong>
                                <p>–ó–∞–≤–¥—è–∫–∏ –∫–µ—à—É–≤–∞–Ω–Ω—é —Ç–∞ Service Worker</p>
                            </div>
                        </div>
                        <div class="feature">
                            <span class="feature-icon">üîî</span>
                            <div>
                                <strong>Push-—Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è</strong>
                                <p>–û—Ç—Ä–∏–º—É–π—Ç–µ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∞–∫—Ü—ñ—ó</p>
                            </div>
                        </div>
                        <div class="feature">
                            <span class="feature-icon">üîÑ</span>
                            <div>
                                <strong>–§–æ–Ω–æ–≤–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è</strong>
                                <p>–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª—è—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

<!-- –§—É—Ç–µ—Ä -->
<footer>
    <div class="footer-content">
        <div class="footer-info">
            <p>–ö–∞–≤'—è—Ä–Ω—è ¬´–ê—Ä–æ–º–∞—Ç–Ω–∞¬ª ¬© 2024</p>
            <p class="version">–í–µ—Ä—Å—ñ—è: <span id="app-version">v1.0</span></p>
            <p class="connection-status">
                –°—Ç–∞—Ç—É—Å:
                <span id="connection-status" class="online">–û–Ω–ª–∞–π–Ω</span>
            </p>
        </div>
        <div class="footer-controls">
            <button onclick="updateSW()" class="btn btn-sm">
                <span class="btn-icon">üîÑ</span> –û–Ω–æ–≤–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫
            </button>
            <button onclick="clearCache()" class="btn btn-sm btn-secondary">
                <span class="btn-icon">üßπ</span> –û—á–∏—Å—Ç–∏—Ç–∏ –∫–µ—à
            </button>
            <button onclick="toggleDebug()" class="btn btn-sm btn-secondary">
                <span class="btn-icon">üêõ</span> Debug
            </button>
        </div>
    </div>
</footer>

<!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –∫–æ—à–∏–∫–∞ -->
<div id="cart-modal" class="modal hidden">
    <div class="modal-content">
        <div class="modal-header">
            <h3>üõí –ö–æ—à–∏–∫</h3>
            <button onclick="closeCart()" class="modal-close">√ó</button>
        </div>
        <div class="modal-body">
            <div id="cart-items"></div>
            <div class="cart-summary">
                <div class="summary-row">
                    <span>–†–∞–∑–æ–º:</span>
                    <span id="cart-total">0 ‚Ç¥</span>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button onclick="closeCart()" class="btn btn-secondary">–ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –ø–æ–∫—É–ø–∫–∏</button>
            <button onclick="checkout()" class="btn btn-primary">–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
        </div>
    </div>
</div>

<!-- Debug –ø–∞–Ω–µ–ª—å -->
<div id="debug-panel" class="debug-panel hidden">
    <div class="debug-header">
        <h4>Debug Panel</h4>
        <button onclick="toggleDebug()" class="debug-close">√ó</button>
    </div>
    <div class="debug-content">
        <div class="debug-section">
            <h5>Service Worker</h5>
            <p>–°—Ç–∞—Ç—É—Å: <span id="sw-status">–ù–µ –∞–∫—Ç–∏–≤–Ω–∏–π</span></p>
            <p>–ö–µ—à: <span id="cache-status">–ù–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ</span></p>
            <button onclick="forceUpdate()" class="btn btn-sm">–ü—Ä–∏–º—É—Å–æ–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è</button>
        </div>
        <div class="debug-section">
            <h5>–°—Ç–∞–Ω –º–µ—Ä–µ–∂—ñ</h5>
            <p>–û–Ω–ª–∞–π–Ω: <span id="debug-online">true</span></p>
            <p>–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è: <span id="connection-type">unknown</span></p>
        </div>
        <div class="debug-section">
            <h5>–°—Ö–æ–≤–∏—â–µ</h5>
            <p>–õ–æ–∫–∞–ª—å–Ω–µ: <span id="localstorage-size">0 KB</span></p>
            <p>–ö–µ—à: <span id="cache-size">0 KB</span></p>
        </div>
    </div>
</div>

<script src="app.js"></script>
</body>
</html>